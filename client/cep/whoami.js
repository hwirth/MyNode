// whoami.js
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////119:/
// MyNode - copy(l)eft 2022 - https://spielwiese.centra-dogma.at
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////119:/

"use strict";

import * as Helpers from './helpers.js';


export const WhoAmI = function (cep) {
	const self = this;

	this.address;
	this.userName;
	this.nickName;
	this.whoData;


//////////////////////////////////////////////////////////////////////////////////////////////////////////////////119:/
// INTERFACE
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////119:/


//////////////////////////////////////////////////////////////////////////////////////////////////////////////////119:/
// WEBSOCKET
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////119:/

	this.onWsMessage = function (message) {
		if (!message.response) return;

		Helpers.wrapArray( message.response ).forEach( (response)=>{
			switch (response.command) {
				case 'chat.nick':: {
					break;
				}
				case 'session.login': {
					break;
				}
				case 'session.logout': {
					break;
				}
			}
		});

	}; // onWsMessage


	this.onWsClose   = function () {
	}; // onWsMessage


//////////////////////////////////////////////////////////////////////////////////////////////////////////////////119:/
// CONSTRUCTOR
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////119:/

	this.exit = function () {
		if (DEBUG.INSTANCES) console.log( 'WhoAmI.exit' );
		return Promise.resolve();

	}; // exit


	this.init = async function () {
		if (DEBUG.INSTANCES) console.log( 'WhoAmI.init' );
		return Promise.resolve();

	}; // init


	return self.init().then( ()=>self );   // const whoami = await new WhoAmI()

}; // WhoAmI


//EOF
