/*** spielwiese.css ***/

:root {
	Xscroll-behavior: smooth;   /* Firefox: Does not scroll properly on Shift+Enter */

	color-scheme:light dark; /* both supported */

	--font-family          : terminal;
	--terminal-font-family : var(--font-family);

	--page-width   : 64rem;
	--body-padding : max(1.5rem, calc((100vw - var(--page-width)) / 2));

	--text-color        : #000;
	--body-bg           : #f0f0f0;
	--body-border       : solid 0.25em #5d7860;
	--body-border-width : 0.35em 0;

	--bg-html      : #fff;
	--bg-header    : unset;
	--bg-main-menu : unset;
	--bg-path-menu : unset;
	--bg-article   : unset;
	--bg-footer    : var(--bg-main-menu);

	--a-color   : #444;
	--a-hover   : #000;
	--a-visited : #622;
	--a-active  : #008;
	--a-focus   : #00f;

	--header-padding-top : 1rem;
	--header-padding-btm : 0rem;
	--menu-padding   : 0rem;
	--footer-padding : var(--menu-padding) var(--body-padding) calc(var(--menu-padding) + 2rem);

	--input-color        : #000;
	--input-bg           : #fff;
	--input-border       : solid 1px #444;
	--input-border-width : 1px;
	--input-radius       : 0.2rem;

	--button-color         : #fff;
	--button-bg            : #555;
	--button-submit-color  : #fff;
	--button-submit-bg     : #c50;
	--button-close-color   : #fff;
	--button-close-bg      : #c50;
	--button-enabled-color : #fff;
	--button-enabled-bg    : #280;

	--terminal-ping-color      : #8fa;
	--terminal-debug-color     : #acf;
	--terminal-string-color    : #5c6;
	--terminal-notice-color    : #acf;
	--terminal-update-color  : #090;
	--terminal-broadcast-color : #86f;
	--terminal-text-color      : #ffe;
	--terminal-request-color   : #ca0;
	--terminal-response-color  : #78f;
	--terminal-warning-color   : #fc0;
	--terminal-error-color     : #e20;
	--terminal-success-color   : #0f0;
	--terminal-cep-color       : #cc0;
	--terminal-mcp-color       : var(--terminal-response-color);
	--terminal-chat-color      : #fff;

	--terminal-input-color      : var(--terminal-request-color);
	--terminal-separator-color  : #a60;
	--terminal-separator-border : dashed 1px var(--terminal-separator-color);

	--Xrequest-hover-background  : #210;
	--request-hover-color       : #af0;
	--Xresponse-hover-background : #123;
	--response-hover-color      : #0af;

	--terminal-line-height: 1rem;
	--tab-size: 4;
	--input-tab-size: 8; X:var(--tab-size);

	--terminal-padding: 0.5em;
}


body.dark_mode {
	--text-color        : #ffe;

	--body-bg           : #232;
	--body-border       : solid 0.25em #5d7860;
	--body-border-width : 0.35em 0;

	--bg-html      : #222;
	--bg-header    : #454;
	--bg-main-menu : #343;
	--bg-path-menu : #343;
	--bg-footer    : var(--bg-main-menu);

	--a-color  : #af8;
	--a-hover  : #eff;
	--a-active : #eef;
	--a-focus  : #caf;

	--header-padding-top : 0.5rem;
	--header-padding-btm : 0.5rem;
	--menu-padding       : 0.5rem;
	--footer-padding     : var(--menu-padding) var(--body-padding);

	--input-color       : #000;
	--input-bg          : #fff;
	--input-border      : unset;X:solid var(--input-border-width) var(--text-color);
	--input-radius      : 0.2em;

	--button-color      : #fff;
	--button-bg         : #383;
}


/* FONTS */

@font-face {
	font-family: 'terminal';
	src: url('/fonts/WhiteRabbit.woff')  format('woff');
	src: url('/fonts/WhiteRabbit.woff2') format('woff2');
	font-weight: normal;
	font-style: normal;
	Xfont-display: swap;
}


/* PAGE LAYOUT */

* { margin:0; padding:0; box-sizing:border-box; font-size:15px; }

html, body { width:100%; height:100%; }
:not(.init) body {
	background: #000 url(/images/bg_grid.jpg);
	Xbackground-size:calc(100% / 3) calc(100% / 3);
	Xbackground-size:cover;
	background-size:100% 100%;
}
html:not(.init)::after {
	content:'What is My Node'; white-space:pre; color:#fc0;
	transform:translate(0,-50%);
	position:absolute; top:50%; left:1em;
	font-family:var(--terminal-font-family);
	text-transform:uppercase;
}
:not(.init) body::after {
	content:'';
	position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
	display:flex; align-items:center; Xjustify-content:center;
	height:100%; width:calc(100% - 1em);
	padding-left:1em;
	background: url(/images/tron_poster.png);
	background-position:center;
	background-repeat:no-repeat;
	background-size:auto 100%;
}

:focus { outline:none; }

a        { color:var(--a-color); text-decoration:none; }
a:hover  { color:var(--a-hover); text-decoration:underline; }
a:active { color:var(--a-active); }
a:focus  { color:var(--a-focus); }

h1 { font-size:1.35em; }
h2 { font-size:1.1em; }

footer { display:none; }


/* DEBUG CONSOLE */

.terminal.enabled { display:grid; }
.terminal {
	position:absolute; bottom:0; left:0; z-index:999;
	display:none; grid-template-rows:min-content auto min-content;
	grid-template-areas:"r0" "r1" "r2";
	width:100%; height:100%;
	padding:0;
	overflow:hidden;
	background:#210;
}
.terminal header { grid-area:r0; }
.terminal main   { grid-area:r1; position:relative; width:100%; max-height:100%; overflow:hidden; }
.terminal footer { grid-area:r2; }
.terminal .shell { display:grid; grid-template-areas:"m0" "m1"; grid-template-rows:auto 1fr; }
.terminal .shell output   { grid-area:m0; }
.terminal .shell textarea { grid-area:m1; }



.terminal.connected { background:#120; }
.terminal.enabled   { height:100%; padding:var(--terminal-padding); }
.terminal.fancy::after {
	content: ''; position:absolute; top:0; left:0; width:100%; height:100%; z-index:-2;
	background: #000 url(/images/bg_grid3.jpg);
	background-size: cover;
	background-size: auto 100%;
	background-position: center;
}
/*@media (min-width: 640px) {*/
@media (min-aspect-ratio: 4/3) {
    .terminal.fancy::after {
        background-size: 100% 100%;
    }
}

.terminal ::selection {
	color:#fff;
	background:#06c;
}

.terminal :is(h2, input, button, span, code, ::before, ::after, .toolbar, textarea, pre) {
	font-family:monospace,monospace; font-size:1rem; line-height:var(--terminal-line-height);
	tab-size:var(--tab-size);
	font-family:terminal;
}
.terminal .toolbar *,
.terminal.fancy :is(button, span, code, ::before, ::after, textarea, output pre) {
	text-shadow:
		 1px  0px #0008,
		-1px  0px #0008,
		 0px  1px #0008,
		 0px -1px #0008
	;
}


.terminal input {
	border:var(--input-border);
	border-radius:var(--input-radius);
	background:var(--input-bg); color:var(--input-color);
	border:var(--input-border);
	border-radius:0.25em;
	color:#fff;
	background:#000;
	Xdisplay:inline-block;
	Xvertical-align:middle;
}
.terminal input:focus {
	outline:none;
	border-width:1px;
}
.terminal button {
	border:var(--input-border);
	border-radius:5px;
	background: var(--button-bg); color:var(--button-color);
	white-space:nowrap;
}


.terminal .toolbar {
	position:relative;
	display:inline-flex; flex-wrap:wrap; align-items:center; justify-content:center;
	width:100%;
	border-radius:5px;
	background:#fff2; color:#fff;
	box-shadow:inset 0 0 0 1px #fff4;
}

.terminal .toolbar section { position:relative; display:flex; }
.terminal .toolbar > :first-child { text-align:left; }
.terminal .toolbar > :last-child  { text-align:right; }

.terminal footer > :nth-child(1) { flex-grow:1; }
.terminal footer > :nth-child(2) { flex-grow:0; }
.terminal footer > :nth-child(3) { flex-grow:1; justify-content:end; text-align:right; }
.terminal footer > :nth-child(4) { flex-grow:0; justify-content:end; }

.terminal .toolbar section > :is(div, span) { padding:1px 5px; vertical-align:middle; }

.terminal .toolbar,
.terminal .toolbar section { height:calc(1.2rem + 2px); line-height:calc(1.2rem + 2px); }
.terminal button,
.terminal input { height:calc(1.2rem + 2px); padding:2.5px 5px 1.5px; }


.terminal button:focus,
.terminal button:hover   { filter:brightness(1.5); }
.terminal button.submit  { background:var(--button-submit-bg); color:var(--button-submit-color); }
.terminal button.close   { background:var(--button-close-bg); color:var(--button-close-color); }
.terminal button.enabled {
	box-shadow:
		inset 0 0 0 2px var(--button-enabled-bg)/*,
		0 0 0 2px var(--button-enabled-bg)*/
	;
	color:var(--button-enabled-color);
}
.terminal button.login,
.terminal button.logout,
.terminal button.who,
.terminal button.token,
.terminal button.clear,
.terminal button.help,
.terminal button.connect,
.terminal button.disconnect { background:#676; }


.terminal .toolbar > section .menu { display:flex; align-items:center; justify-content:center; padding:0; }

.terminal .toolbar > .menu .items { display:none; background:#fff2; }
.terminal .toolbar > .menu:hover .items,
.terminal .toolbar > .menu:focus .items,
.terminal .toolbar > .menu:focus-within .items {
	display:flex; flex-wrap:wrap; justify-content:center; align-items:center;
	position:absolute; bottom:100%; right:0; z-index:999;
	width:17em;
	padding:0;
	border-radius:5px;
}
.terminal .toolbar > .menu .items > * { flex-grow:1; }


.terminal .connection { font-weight:bold; transition:color 0.1s linear; }
.terminal .connection.ping { color:var(--terminal-ping-color); }
.terminal .time {
	flex-grow:1;
	Xfont-variant-numeric: normal;
	Xfont-variant-numeric: ordinal;
	font-variant-numeric: slashed-zero;
	Xfont-variant-numeric: lining-nums; /* <numeric-figure-values> */
	font-variant-numeric: oldstyle-nums; /* <numeric-figure-values> */
	Xfont-variant-numeric: proportional-nums; /* <numeric-spacing-values> */
	Xfont-variant-numeric: tabular-nums; /* <numeric-spacing-values> */
	Xfont-variant-numeric: diagonal-fractions; /* <numeric-fraction-values> */
	Xfont-variant-numeric: stacked-fractions; /* <numeric-fraction-values> */
	Xfont-variant-numeric: oldstyle-nums stacked-fractions;
}


.terminal.fancy .shell::before {
	--b:0.85;
	content:'';
	position:absolute; top:50%; left:50%; transform:translate(-50%,-53%); z-index:-1;
	width:130px; height:125px;
	background-image:url(/images/bit_transparent.gif);
	filter:hue-rotate(180deg) brightness(var(--b));
	Xtransition:filter 0.05s linear;
}
.terminal.fancy.connected output::before { filter:hue-rotate(  0deg) brightness(var(--b)); }
.terminal.fancy.yes       output::before { filter:hue-rotate(-90deg) brightness(0.9) contrast(2); }
.terminal.fancy.no        output::before { filter:hue-rotate(140deg) brightness(0.9) contrast(3); }
.terminal.fancy.yes output::after,
.terminal.fancy.no  output::after {
	content:'';
	position:absolute; top:50%; left:50%; transform:translate(-50%,-53%); z-index:-1;
	width:200%; height:200%;
	border-radius:100%;
	background:#0000;
}
.terminal.fancy.yes output::after { background:radial-gradient(#0f04, #0000); }
.terminal.fancy.no  output::after { background:radial-gradient(#f004, #0000); }

.terminal output {
	margin-top:1em;
	color:var(--terminal-text-color);
	overflow-y:hidden;
	white-space:pre-wrap;
	overflow-x:hidden;
	overflow-y:scroll;
	Xscroll-behavior: smooth;   /* Firefox: Does not scroll properly on Shift+Enter */
}
.terminal pre { padding-bottom:1em; white-space:pre-wrap; }
.terminal .separators pre { border:solid 1px #fff4; border-width:0 0 1px; padding-top:2px; padding-bottom:2px; }
.terminal .separators pre:nth-child(2n+1) { Xbackground:#fff4; }
.terminal .compressed pre:hover { background:#fff4; cursor:pointer; }
.terminal .compressed pre.expand:hover { background:unset; cursor:pointer; }
.terminal .compressed.overflow pre { white-space:nowrap; }
.terminal .compressed.separators pre:hover { border-width:1px 0; margin-top:-1px; }
.terminal .compressed pre { white-space:normal; overflow:hidden; padding-top:0; padding-bottom:0; }
.terminal .compressed.last pre:last-child,
X.terminal .compressed pre.string,
X.terminal .compressed pre.cep,
.terminal .compressed pre.expand { white-space:pre-wrap; }

.terminal pre { display:none; }
.terminal .debug.cep       pre.cep,
.terminal .debug.string    pre.string,
.terminal .debug.notice    pre.notice,
.terminal .debug.broadcast pre.broadcast,
.terminal .debug.update    pre.update,
.terminal .debug.request   pre.request,
.terminal .debug.response  pre.response,
.terminal.chat pre.chat { display:block; }


.terminal pre.cep       { color:var(--terminal-cep-color)       }
.terminal pre.debug     { color:var(--terminal-debug-color)     }
.terminal pre.string    { color:var(--terminal-string-color)    }
.terminal pre.notice    { color:var(--terminal-notice-color)    }
.terminal pre.broadcast { color:var(--terminal-broadcast-color) }
.terminal pre.update    { color:var(--terminal-update-color)    }
.terminal pre.request   { color:var(--terminal-request-color)   }
.terminal pre.response  { color:var(--terminal-response-color)  }

.terminal pre.chat          { color:var(--terminal-chat-color)      ; padding-left:1em; position:relative; }
.terminal pre.chat::before {
	content:'';
	position:absolute; left:6px; top:0.5em; transform:translate(-50%,-50%);
	width:10px; height:10px;
	background:#fff2; outline:solid 1px #fff8; border-radius:100%;
}

.terminal textarea {
	width:100%; border:none;
	background:transparent; color:var(--terminal-chat-color);
	resize:none;
	caret-shape:block;
	Xcaret-shape:bar;
	Xcaret-shape:unserscore;
	caret-color: #ff0;
}
X.terminal textarea:focus { caret-color:#f0f; }
.terminal textarea.request { color:var(--terminal-input-color); }
.terminal textarea.local { color:var(--terminal-request-color); }
.terminal textarea.local ::first-letter { color:#fff; }


.terminal code      { color:#fcb; }
.terminal .success  { color:#080; }
.terminal .warning  { color:#fc0; }
.terminal .error    { color:#f00; }
.terminal .true     { color:#6e3; }
.terminal .false    { color:#f31; }
.terminal .null     { color:#4ef; }/*
.terminal code.period   { color:#ccc; }
.terminal code.colon    { color:#ccc; }
.terminal code.semi     { color:#ccc; }
.terminal code.slash    { color:#ccc; }
.terminal code.curlyO   { color:#fff; }
.terminal code.bracketO { color:#eee; }
.terminal code.parensO  { color:#ccc; }
.terminal code.parensC  { color:#ddd; }
.terminal code.bracketC { color:#ccc; }
.terminal code.curlyC   { color:#bbb; }
*/


/* ANIMATIONS */

/* Beam */
:not(.init).animate body::after {
	animation: BEAM 0.02s ease-in-out infinite;
}
@keyframes BEAM {
	   0% { opacity:1.0; filter:hue-rotate(180deg); }
	  80% {              filter:hue-rotate(190deg); }
	  86% { opacity:1.0; }
	  93% { opacity:0.9; }
	 100% { opacity:1.0; filter:hue-rotate(170deg); }
}

/* MCP */
:not(.init) .animate.enabled.terminal::before {
	content: ''; position:absolute; top:0; left:0; width:100%; height:100%; z-index:-2;
	background-image: url(/images/mcp.jpg);
	background-size: cover;
	background-size: auto 100%;
	background-repeat: no-repeat;
	background-position: center;
	filter:contrast(1.5) brightness(0.5);
	animation: MCP_MOVE 30s linear infinite;
}
@keyframes MCP_MOVE {
	 00% { transform:scale(1.00) rotate( 0deg) }
	 11% { transform:scale(1.03) rotate( 1deg) }
	 22% { transform:scale(1.10) rotate( 0deg) }
	 33% { transform:scale(1.25) rotate(-2deg) }
	 50% { transform:scale(1.50) rotate( 0deg) }
	 66% { transform:scale(1.25) rotate( 2deg) }
	 77% { transform:scale(1.10) rotate( 0deg) }
	 88% { transform:scale(1.03) rotate(-1deg) }
	100% { transform:scale(1.00) rotate( 0deg) }
}

/* Background */
:not(.init) .animate.enabled.terminal::after {
	animation: MCP_GLOW 360s linear infinite; /*grid3*/
}
@keyframes MCP_GLOW {
	  0% { opacity:1.0; }

	 25% { opacity:1.0; }
	 26% { opacity:0.85; }
	 43% { opacity:0.75; }
	 45% { opacity:1.0; }

	 50% { opacity:1.0; }
	 50.4% { opacity:0.0; }
	 52% { opacity:0.7; }
	 58% { opacity:1.0; }

	100% { opacity:1.0; }
}

/* Bit */
:not(.init) .animate.enabled.terminal output::before {
	animation: BIT_GLOW 360s linear infinite; /*bit.gif*/
}
@keyframes BIT_GLOW {
	 00% { opacity:1; }

	 23% { opacity:1; }
	 24% { opacity:0; }
	 45% { opacity:0; }
	 46% { opacity:1; }

	 48% { opacity:1; }
	 49% { opacity:0; }
	 59% { opacity:0; }
	 60% { opacity:1; }

	100% { opacity:1; }
}


/*EOF*/






/*
	width: 100%;
	height: 100vh;
	display: flex;
	align-items: center;
	justify-content: center;

	background-size: 300% 300%;
	background-color:#000;
	Xbackground-image: linear-gradient(
		45deg,
		rgba(  0,  0,255,1) 0%,
		rgba(255,  0,  0,1) 100%
	);

	animation: HTML 30s ease infinite;
	overflow: hidden;
*/




/*
html { background:var(--bg-html); }
body {
	display:grid;
	grid-template-areas:
		"ga-header  ga-header"
		"ga-path-menu ga-main-menu"
		"ga-article ga-article"
		"ga-footer ga-footer"
	;
	grid-template-rows:min-content min-content auto min-content;
	Xgrid-template-columns:auto auto;
	Xmax-width:60em;
	min-height:100vh;
	Xborder:var(--border-bg); border-width:var(--body-border-width);
	margin:0 auto;
	font-family:var(--font-family);
	background:var(--body-bg); color:var(--text-color);
	line-height:1.5;
}
header     { grid-area:ga-header;    padding:0 var(--body-padding); }
.main_menu { grid-area:ga-main-menu; padding:0 var(--body-padding) 0 0; }
.path_menu { grid-area:ga-path-menu; padding:0 0 0 var(--body-padding); }
article    { grid-area:ga-article;   padding:0 var(--body-padding); }
footer     { grid-area:ga-footer;    padding:0 var(--body-padding); }

header { background:var(--bg-header); padding-top:var(--header-padding-top); padding-bottom:var(--header-padding-btm); }
.debug header { padding-top:0.5em; }
header > * { display:inline; }
header img { height:2em; }
.init header img { height:unset; }
header small { font-weight:normal; font-size:0.85em; }

nav { font-size:0; }
nav { padding-top:var(--menu-padding); padding-bottom:var(--menu-padding); }
nav a { font-size:1rem; }

nav.main_menu,
nav.path_menu { padding-top:var(--menu-padding); padding-bottom:var(--menu-padding); }

nav.main_menu { background:var(--bg-main-menu); text-align:right; }
nav.main_menu a { margin-left:1.5em; white-space:nowrap; }

nav.path_menu { background:var(--bg-path-menu); }
nav.path_menu a::after { display:inline-block; content:'>'; margin:0 0.5em; color:var(--text-color); text-decoration:none; }
nav.path_menu a:last-child::after { display:none; }

article { background:var(--bg-article); padding-top:3rem; padding-bottom:5rem; }

a        { color:var(--a-color); text-decoration:none; }
a:hover  { color:var(--a-hover); text-decoration:underline; }
a:active { color:var(--a-active); }
a:focus  { color:var(--a-focus); }

h1 { font-size:1.35em; }
h2 { font-size:1.1em; }

footer { background:var(--bg-footer); text-align:center; padding:var(--footer-padding); }
.debug footer { padding-bottom:0.25rem; }

footer span::after { content: ' - '; }
footer span:last-child::after { display:none; }
*/
